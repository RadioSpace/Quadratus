<Window x:Class="TileMapMaker.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"   
        xmlns:d="clr-namespace:TileMapMaker.Commands"
        xmlns:s="clr-namespace:STAR;assembly=STAR"
        Title="MainWindow" 
        
        
        Loaded="Window_Loaded"  Closed="Window_Closed" SizeToContent="WidthAndHeight">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="MainStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>


    <Grid>

        <StackPanel>
            <Menu>
                <MenuItem Header="File">
                    <MenuItem.Items>
                        <MenuItem Header="New Project" Command="New"/>
                        <MenuItem Header="Save Project" Command="Save"/>
                        <MenuItem Header="Open Project" Command="Open"/>

                    </MenuItem.Items>

                </MenuItem>
                <MenuItem Header="Project">
                    <MenuItem.Items>

                        <MenuItem Header="Add Map">
                            <MenuItem.Items>
                                <MenuItem Header="Create Map" Command="{x:Static d:MapEditCommands.Createmap}"/>
                                <MenuItem Header="Import Map" Command="{x:Static d:MapEditCommands.ImportMap}"/>
                            </MenuItem.Items>
                        </MenuItem>

                        <MenuItem Header="Remove Map" Command="{x:Static d:MapEditCommands.RemoveMap}"/>


                        <Separator />


                        <MenuItem Header="Export Map" Command="{x:Static d:MapEditCommands.ExportMap}"/>
                        <Separator/>

                        <MenuItem Header="Clear project maps" Command="{x:Static d:MapEditCommands.ClearProject}"/>


                    </MenuItem.Items>
                </MenuItem>
            </Menu>

            <StackPanel Orientation="Horizontal">

                <StackPanel>
                    <WindowsFormsHost Name="WinHost" Width="620" Height="438">
                        <WindowsFormsHost.ContextMenu>
                            <ContextMenu Name="cellProps" ContextMenuOpening="cellProps_ContextMenuOpening">
                                <MenuItem Header="h"/>
                            </ContextMenu>
                        </WindowsFormsHost.ContextMenu>

                    </WindowsFormsHost>
                    <StackPanel Orientation="Horizontal">
                        <Grid Width="310" Height="150" Background="Yellow">
                            <ListBox Name="MapListBox" ItemsSource="{Binding}" SelectionChanged="MapListBox_SelectionChanged"/>
                        </Grid>
                        <Grid Width="310" Height="150" Background="Red">
                            <!--Selected Map Properties-->
                        </Grid>
                    </StackPanel>
                </StackPanel>
                
                
                
                <StackPanel Width="432">

                    <Menu>
                        <Menu.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel/>
                            </ItemsPanelTemplate>
                        </Menu.ItemsPanel>

                        <Menu.Items>
                            <MenuItem Command="{x:Static d:MapEditCommands.ChangeTexture}">
                                <MenuItem.Header>
                                    <StackPanel>
                                    <TextBlock Text="Texture"/>
                                    <Image Style="{StaticResource ToolMenuIconStyle}" />
                                </StackPanel>
                                </MenuItem.Header>
                            </MenuItem>
                            <MenuItem Command="{x:Static d:MapEditCommands.ChangeColor}">
                                <MenuItem.Header>
                                    <StackPanel>
                                        <TextBlock Text="Color"/>
                                        <Image Style="{StaticResource ToolMenuIconStyle}" />
                                    </StackPanel>
                                </MenuItem.Header>
                            </MenuItem>
                            <MenuItem Command="{x:Static d:MapEditCommands.ChangePosition}">
                                <MenuItem.Header>
                                    <StackPanel>
                                        <TextBlock Text="Pos"/>
                                        <Image Style="{StaticResource ToolMenuIconStyle}" />
                                    </StackPanel>
                                </MenuItem.Header>
                            </MenuItem>


                        </Menu.Items>
                    </Menu>                 

                    <Grid x:Name="EditorControl" Height="547"/>
                   
                </StackPanel>



            </StackPanel>

        </StackPanel>


    </Grid>
</Window>
